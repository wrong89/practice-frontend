import{h as g,r as p,j as r,i as x,y as h,R as j,A as v}from"./index-C1gt5eUJ.js";import{B as q,E as b}from"./errors-DNfEzAA6.js";import{u as f,T as o}from"./index.esm-CypMLJO7.js";const _=()=>{const{register:s,handleSubmit:u,formState:{errors:e}}=f(),m=g(),[a,d]=p.useState(""),c=i=>{console.log("Form data:",i),h(i).then(t=>{console.log("User:",t),m(j.login)}).catch(t=>{if(t instanceof v){const n=b[t.messageFromServer];n&&d(n),console.log(t.messageFromServer),console.log(t.time),console.log(t.status)}else console.log(t)})};return r.jsxs(q,{component:"form",onSubmit:u(c),sx:{display:"flex",flexDirection:"column",gap:2,width:400,mx:"auto",mt:4},children:[r.jsx(o,{required:!0,error:!!e.login,helperText:e.login?.message,...s("login",{required:"Введите логин",minLength:{value:6,message:"Минимум 6 символов"},pattern:{value:/^[A-Za-z0-9]+$/,message:"Только латинские буквы и цифры"}}),label:"Логин",variant:"outlined"}),r.jsx(o,{required:!0,error:!!e.password,helperText:e.password&&"Пароль должен быть длиннее 8 символов",...s("password",{required:!0,minLength:3}),label:"Пароль",type:"password",variant:"outlined"}),r.jsx(o,{required:!0,error:!!e.name,helperText:e.name&&"Введите имя",...s("name",{required:!0}),label:"Имя",variant:"outlined"}),r.jsx(o,{required:!0,error:!!e.surname,helperText:e.surname&&"Введите фамилию",...s("surname",{required:!0}),label:"Фамилия",variant:"outlined"}),r.jsx(o,{required:!0,error:!!e.patronymic,helperText:e.patronymic&&"Введите отчество (если есть)",...s("patronymic"),label:"Отчество",variant:"outlined"}),r.jsx(o,{required:!0,error:!!e.phone,helperText:e.phone&&"Введите корректный номер телефона",...s("phone",{required:!0,pattern:/^\d{10,12}$/}),label:"Телефон",variant:"outlined"}),r.jsx(o,{required:!0,error:!!e.email,helperText:e.email&&"Введите корректный email",...s("email",{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/}),label:"Email",variant:"outlined"}),a&&r.jsx("p",{style:{color:"red",textAlign:"center"},children:a}),r.jsx(x,{type:"submit",variant:"contained",children:"Зарегистрироваться"})]})},T="_register__title_162s2_1",l={register__title:T},F=()=>r.jsxs("div",{className:l.register,children:[r.jsx("h1",{className:l.register__title,children:"Регистрация"}),r.jsx(_,{})]});export{F as default};
