import{u as m,j as o,R as u}from"./index-C2fW9vE9.js";import{u as c,B as g,T as r,a as d,l as x,A as p}from"./index.esm-DMRaHhNZ.js";const h=()=>{const{register:s,handleSubmit:a,formState:{errors:t}}=c(),l=m(),i=n=>{console.log("form data",n),x(n).then(e=>{console.log("Token:",e.token),localStorage.setItem("token",e.token),l(u.main)}).catch(e=>{e instanceof p?(console.log(e.messageFromServer),console.log(e.time),console.log(e.status)):console.log(e)})};return o.jsxs(g,{component:"form",onSubmit:a(i),sx:{display:"flex",flexDirection:"column",gap:2,width:400,mx:"auto",mt:4},children:[o.jsx(r,{required:!0,error:!!t.login,helperText:t.login?.message,...s("login",{required:"Введите логин",minLength:{value:6,message:"Минимум 6 символов"},pattern:{value:/^[A-Za-z0-9]+$/,message:"Только латинские буквы и цифры"}}),label:"Логин",variant:"outlined"}),o.jsx(r,{required:!0,error:!!t.password,helperText:t.password&&"Пароль должен быть длиннее 8 символов",...s("password",{required:!0,minLength:3}),label:"Пароль",type:"password",variant:"outlined"}),o.jsx(d,{type:"submit",variant:"contained",children:"Войти"})]})},v=()=>o.jsxs(o.Fragment,{children:[o.jsx("h1",{children:"Страница авторизации"}),o.jsx(h,{})]});export{v as default};
